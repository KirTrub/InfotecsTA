<!--> 

ССЫЛКА НА РЕПОЗИТОРИЙ 
https://github.com/KirTrub/InfotecsTA.git

-->

# Тестовое задание Infotecs для стажера по направлению Go-разработчик

Необходимо разработать приложение, реализующее систему обработки транзакций платёжной системы. Приложение должно быть реализовано в виде HTTP сервера, реализующее REST API. Сервер должен иметь три метода:

Send, имеющий эндпоинт POST /api/send, который отправляет средства с одного из кошельков на указанный кошелек. Метод принимает в теле запроса JSON-объект, содержащий следующие поля:

from — адрес кошелька, откуда нужно отправить деньги. Например: e240d8255af751f55af8d9671beabdf2236c0a3b4e2639b3e182d994c88;

to — адрес кошелька, куда нужно отправить деньги;

amount — сумма перевода. Например: 3.50.

Если средств на кошельке недостаточно, то необходимо возвращать читаемую ошибку и соответствующий статус-код.

GetLast, имеющий эндпоинт GET /api/transactions?count=N, возвращающий информацию о N последних по времени переводах средств. Метод принимает в query-параметрах число возвращаемых JSON-объектов в массиве.

GetBalance, имеющий эндпоинт GET /api/wallet/{address}/balance, возвращающий информацию о балансе кошелька в JSON-объекте. Адрес кошелька указывается в пути запроса.

При первом запуске приложения должны создаваться 10 кошельков с случайными адресами и 100.0 у.е. на счету.

# Требования к запуску
Go >= 1.24.6

PostgreSQL >= 17.5

# Сборка и запуск
```bash
git clone https://github.com/KirTrub/InfotecsTA.git

cd InfotecsTA
```

**Перед запуском необходимо создать файл .env в корне проекта и в нем прописать DB_URL=[url вашей БД, без ковычек, скобок и пробелов]***
```bash
docker build -t infotecsta .
docker run -p 8081:8081 infotecsta
```

# Эндпоинты
* POST **/api/send**

Пример запроса
```json
{
    "from": "60523d4d0efe9bf8282fcdec5cb438da",
    "to": "4594ba3165e9e1df65b4efdb07f7b4b4",
    "amount": 35
}
```

Пример ответа 
```
Transaction completed successfully
```
Или
```
Failed to send money: insufficient funds
```

* GET **/api/wallet/{address}/balance**

Пример запроса
```
127.0.0.1:8081/api/wallet/60523d4d0efe9bf8282fcdec5cb438da/balance
```
Пример ответа
```json
{
    "balance": 29
}
```

* GET **/api/transactions?count=N**

Пример запроса
```
127.0.0.1:8081/api/transactions?count=2
```

Пример ответа
```json
[
    {
        "id": 8,
        "from": "60523d4d0efe9bf8282fcdec5cb438da",
        "to": "4594ba3165e9e1df65b4efdb07f7b4b4",
        "amount": 100,
        "timestamp": "2025-08-29T03:22:46.078926Z",
        "status": "FAILED"
    },
    {
        "id": 7,
        "from": "60523d4d0efe9bf8282fcdec5cb438da",
        "to": "4594ba3165e9e1df65b4efdb07f7b4b4",
        "amount": 1,
        "timestamp": "2025-08-29T03:22:21.785056Z",
        "status": "OK"
    }
]
```

# Используемый стек
* Golang 1.24.6
* Fiber 2.52.9
* PostgreSQL 17.5
